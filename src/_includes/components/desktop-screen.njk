<!-- DESKTOP SCREEN -->
<div class="border-gradient p-0.5 pb-0 rounded-t-4xl">
    <!-- INNER CONTAINER -->
    <div class="flex flex-col bg-neutral-200 dark:bg-neutral-900 rounded-t-4xl">
        <!-- TOP BAR -->
        <div class="flex justify-center lg:justify-between items-center gap-4 py-3 ~px-6/8 bg-neutral-100 dark:bg-neutral-950 rounded-t-4xl">
            <!-- CONTROL BUTTONS -->
            <ul class="hidden lg:flex gap-1.5">
                {% for _ in range(3) %}
                    <li class="h-3 w-3 bg-neutral-300 dark:bg-neutral-800 rounded-full transition-colors duration-300 hover:bg-neutral-600 hover:cursor-pointer"></li>
                {% endfor %}
            </ul>

            <!-- SEARCH BAR -->
            <div class="w-full max-w-[25rem] py-1.5 px-3 bg-neutral-200 dark:bg-neutral-800 text-center text-sm text-neutral-800 dark:text-neutral-300 border border-neutral-300 dark:border-neutral-700 rounded-md select-none">
                {% set url = client
                    .domain
                    .split("https://") %}

                <span class="text-neutral-600 dark:text-neutral-400">https://</span><span>{{ url[1] }}</span>
            </div>

            <!-- PLACEHOLDER -->
            <div class="hidden lg:block w-12 opacity-0"></div>
        </div>

        <!-- WINDOW -->
        <div class="tabs flex max-lg:flex-col ~gap-2/4 lg:gap-8 ~pt-4/6 ~px-2/6">
            <!-- TAB NAVIGATION -->
            <nav class="flex flex-col gap-2 lg:pb-4" role="tablist" aria-orientation="vertical">
                {% for item in modules.items %}
                    <button class="group relative flex items-center gap-4 w-full ~py-3/4 ~px-6/7 text-neutral-600 hover:text-black aria-selected:text-black dark:text-neutral-400 dark:hover:text-white dark:aria-selected:text-white rounded-2xl z-10
                    before:absolute before:top-0 before:left-0 before:h-full before:w-full before:bg-neutral-100 dark:before:bg-neutral-800 before:border-2 before:border-neutral-300 dark:before:border-neutral-700 before:rounded-2xl before:-z-10
                    before:transition-opacity before:duration-300 before:opacity-0 aria-selected:before:opacity-100"
                        type="button"
                        role="tab"
                        id="{{ item.id }}-tab"
                        aria-controls="{{ item.id }}-panel"
                        aria-selected="{% if loop.index === 1 -%} true {%- else -%} false {%- endif %}"
                        tabindex="0">

                        <!-- ICON -->
                        <div class="[&>svg]:~h-5/6 [&>svg]:~w-5/6">
                            {% include item.icon %}
                        </div>

                        <span class="pt-0.5 font-lekton text-lg font-bold">{{ item.label }}</span>
                    </button>
                {% endfor %}
            </nav>

            {% for item in modules.items %}
                <!-- TAB PANEL -->
                <div class="[&[hidden]]:hidden flex-1 flex max-2xl:flex-col ~gap-2/4"
                    role="tabpanel"
                    id="{{ item.id }}-panel"
                    aria-labelledby="{{ item.id }}-tab"
                    tabindex="-1"
                    {% if loop.index !== 1 -%} hidden {%- endif %}>

                    <!-- MAIN CONTENT -->
                    <div class="flex-1 flex flex-col ~gap-10/12 ~p-5/12 bg-neutral-100 dark:bg-neutral-800 border-2 2xl:border-b-0 border-neutral-300 dark:border-neutral-700 rounded-3xl 2xl:rounded-b-none">
                        <!-- TEXT + SUBITEMS -->
                        <div class="flex flex-col gap-8">
                            <!-- HEADING + TEXT -->
                            <div class="flex flex-col ~gap-4/5">
                                <!-- TOPPER + HEADING -->
                                <div class="flex flex-col items-start ~gap-3/4">
                                    <span class="topper">{{ item.content.topper }}</span>
                                    <h2 class="font-lekton ~text-2xl/3xl text-black dark:text-white font-bold">{{ item.content.heading }}</h2>
                                </div>

                                <p class="max-w-2xl text-neutral-800 dark:text-neutral-200">{{ item.content.text }}</p>
                            </div>

                            <!-- ITEMS -->
                            <ul class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 ~gap-1/2">
                                {% for subitem in item.content.subitems %}
                                    <li class="flex items-center gap-3 py-3 px-4 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded-2xl">
                                        <!-- ICON -->
                                        <img src="{{ subitem.icon.url }}"
                                            alt="{{ subitem.icon.alt }}"
                                            width="24"
                                            height="24"
                                            loading="lazy"
                                            decoding="async"
                                            aria-hidden="true"
                                            draggable="false">

                                        <span class="font-lekton text-sm text-black dark:text-white font-bold">{{ subitem.text }}</span>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>

                        <!-- CTA -->
                        <a href="{{ item.content.cta.url }}" class="btn self-start">{{ item.content.cta.text }}</a>
                    </div>

                    <!-- CARDS -->
                    <ul class="grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-1 ~gap-2/4 w-full 2xl:max-w-sm 2xl:pb-4">
                        {% for card in item.content.cards %}
                            <li class="flex flex-col justify-between ~gap-8/16 ~p-5/7 bg-neutral-100 dark:bg-neutral-800 border-2 border-neutral-300 dark:border-neutral-700 first:max-md:rounded-b-2xl last:max-md:border-b-0 last:max-md:rounded-b-none rounded-b-none 2xl:rounded-b-3xl rounded-3xl">
                                <!-- TITLE + BADGE -->
                                <div class="flex justify-between items-center">
                                    <span class="~text-3xl/4.5xl text-black dark:text-white font-bold">{{ card.title }}</span>
                                    <span class="topper">{{ card.badge }}</span>
                                </div>

                                <p class="text-sm text-neutral-800 dark:text-neutral-200">{{ card.text | safe }}</p>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>
    </div>
</div>